var cov_mx3schzm8=function(){var path="D:\\Hobby\\eleaving\\backend\\SubjectService\\src\\service\\SubjectService.js";var hash="3a074c3d47cdffd87bdb7d011290760cdd5aab17";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"D:\\Hobby\\eleaving\\backend\\SubjectService\\src\\service\\SubjectService.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:30}},"1":{start:{line:2,column:10},end:{line:2,column:31}},"2":{start:{line:4,column:19},end:{line:4,column:35}},"3":{start:{line:5,column:19},end:{line:5,column:25}},"4":{start:{line:8,column:14},end:{line:14,column:2}},"5":{start:{line:16,column:0},end:{line:16,column:83}},"6":{start:{line:17,column:0},end:{line:17,column:18}},"7":{start:{line:19,column:0},end:{line:29,column:1}},"8":{start:{line:21,column:4},end:{line:28,column:10}},"9":{start:{line:22,column:12},end:{line:27,column:13}},"10":{start:{line:23,column:16},end:{line:23,column:53}},"11":{start:{line:24,column:16},end:{line:24,column:52}},"12":{start:{line:26,column:16},end:{line:26,column:38}},"13":{start:{line:31,column:0},end:{line:47,column:1}},"14":{start:{line:32,column:17},end:{line:32,column:34}},"15":{start:{line:34,column:4},end:{line:46,column:10}},"16":{start:{line:40,column:12},end:{line:45,column:13}},"17":{start:{line:41,column:16},end:{line:41,column:58}},"18":{start:{line:42,column:16},end:{line:42,column:52}},"19":{start:{line:44,column:16},end:{line:44,column:38}},"20":{start:{line:49,column:0},end:{line:61,column:1}},"21":{start:{line:50,column:17},end:{line:50,column:34}},"22":{start:{line:52,column:4},end:{line:59,column:6}},"23":{start:{line:53,column:8},end:{line:58,column:9}},"24":{start:{line:54,column:12},end:{line:54,column:54}},"25":{start:{line:55,column:12},end:{line:55,column:48}},"26":{start:{line:57,column:12},end:{line:57,column:34}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:19,column:24},end:{line:19,column:25}},loc:{start:{line:19,column:38},end:{line:29,column:1}},line:19},"1":{name:"(anonymous_1)",decl:{start:{line:21,column:44},end:{line:21,column:45}},loc:{start:{line:21,column:76},end:{line:28,column:9}},line:21},"2":{name:"(anonymous_2)",decl:{start:{line:31,column:29},end:{line:31,column:30}},loc:{start:{line:31,column:43},end:{line:47,column:1}},line:31},"3":{name:"(anonymous_3)",decl:{start:{line:39,column:45},end:{line:39,column:46}},loc:{start:{line:39,column:77},end:{line:46,column:9}},line:39},"4":{name:"(anonymous_4)",decl:{start:{line:49,column:38},end:{line:49,column:39}},loc:{start:{line:49,column:52},end:{line:61,column:1}},line:49},"5":{name:"(anonymous_5)",decl:{start:{line:52,column:218},end:{line:52,column:219}},loc:{start:{line:52,column:250},end:{line:59,column:5}},line:52}},branchMap:{"0":{loc:{start:{line:22,column:12},end:{line:27,column:13}},type:"if",locations:[{start:{line:22,column:12},end:{line:27,column:13}},{start:{line:22,column:12},end:{line:27,column:13}}],line:22},"1":{loc:{start:{line:40,column:12},end:{line:45,column:13}},type:"if",locations:[{start:{line:40,column:12},end:{line:45,column:13}},{start:{line:40,column:12},end:{line:45,column:13}}],line:40},"2":{loc:{start:{line:53,column:8},end:{line:58,column:9}},type:"if",locations:[{start:{line:53,column:8},end:{line:58,column:9}},{start:{line:53,column:8},end:{line:58,column:9}}],line:53}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"3a074c3d47cdffd87bdb7d011290760cdd5aab17"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const MySQL=(cov_mx3schzm8.s[0]++,require('mysql'));const _=(cov_mx3schzm8.s[1]++,require('underscore'));const HOST_MYSQL=(cov_mx3schzm8.s[2]++,'35.240.188.199');const PORT_MYSQL=(cov_mx3schzm8.s[3]++,'3309');// Connect Database
var connect=(cov_mx3schzm8.s[4]++,MySQL.createConnection({host:HOST_MYSQL,port:PORT_MYSQL,user:'root',password:'soaeleaving',database:'subjectdatabase'}));cov_mx3schzm8.s[5]++;console.log(`[Subject Service] Connected to Mysql -> ${HOST_MYSQL}:${PORT_MYSQL}`);cov_mx3schzm8.s[6]++;connect.connect();cov_mx3schzm8.s[7]++;exports.getAllSubject=(req,res)=>{cov_mx3schzm8.f[0]++;cov_mx3schzm8.s[8]++;connect.query('select * from subjects',function(err,results,fields){cov_mx3schzm8.f[1]++;cov_mx3schzm8.s[9]++;if(results.length){cov_mx3schzm8.b[0][0]++;cov_mx3schzm8.s[10]++;console.log("Get all subjects is ok");cov_mx3schzm8.s[11]++;return res.status(200).json(results);}else{cov_mx3schzm8.b[0][1]++;cov_mx3schzm8.s[12]++;return res.status(404);}});};cov_mx3schzm8.s[13]++;exports.getSubjectByUserId=(req,res)=>{cov_mx3schzm8.f[2]++;var userid=(cov_mx3schzm8.s[14]++,req.params.userid);cov_mx3schzm8.s[15]++;connect.query('select subject_code, subject_name, subject_day, subject_time, sub_student.subject_sect from subjects sub \
            join subject_sect sub_sect \
            on (sub.subject_id = sub_sect.subject_id) \
            join subject_student sub_student \
            on (sub_sect.subject_sect = sub_student.subject_sect and sub_sect.subject_id = sub_student.subject_id) \
            where account_id = ?',[userid],function(err,results,fields){cov_mx3schzm8.f[3]++;cov_mx3schzm8.s[16]++;if(results.length){cov_mx3schzm8.b[1][0]++;cov_mx3schzm8.s[17]++;console.log("Get subjects for user is ok");cov_mx3schzm8.s[18]++;return res.status(200).json(results);}else{cov_mx3schzm8.b[1][1]++;cov_mx3schzm8.s[19]++;return res.status(404);}});};cov_mx3schzm8.s[20]++;exports.getSubjectProfessorByUserId=(req,res)=>{cov_mx3schzm8.f[4]++;var userid=(cov_mx3schzm8.s[21]++,req.params.userid);cov_mx3schzm8.s[22]++;connect.query(`select subjects.subject_id, subjects.subject_code, subjects.subject_name from subjects join subject_professor on (subjects.subject_id = subject_professor.subject_id) where account_id = ?`,[userid],function(err,results,fields){cov_mx3schzm8.f[5]++;cov_mx3schzm8.s[23]++;if(results.length){cov_mx3schzm8.b[2][0]++;cov_mx3schzm8.s[24]++;console.log("Get subjects for user is ok");cov_mx3schzm8.s[25]++;return res.status(200).json(results);}else{cov_mx3schzm8.b[2][1]++;cov_mx3schzm8.s[26]++;return res.status(404);}});};